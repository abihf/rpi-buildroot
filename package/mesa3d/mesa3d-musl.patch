Index: mesa3d-f87c7008958cdb095efa1cfb29ca8f3c9b9066e4/include/c11/threads_posix.h
===================================================================
--- mesa3d-f87c7008958cdb095efa1cfb29ca8f3c9b9066e4.orig/include/c11/threads_posix.h
+++ mesa3d-f87c7008958cdb095efa1cfb29ca8f3c9b9066e4/include/c11/threads_posix.h
@@ -179,6 +179,9 @@ mtx_init(mtx_t *mtx, int type)
     pthread_mutexattr_init(&attr);
     if ((type & mtx_recursive) != 0) {
 #if defined(__linux__) || defined(__linux)
+#if !defined(PTHREAD_MUTEX_RECURSIVE_NP)
+ 	#define PTHREAD_MUTEX_RECURSIVE_NP PTHREAD_MUTEX_RECURSIVE 
+#endif 
         pthread_mutexattr_settype(&attr, PTHREAD_MUTEX_RECURSIVE_NP);
 #else
         pthread_mutexattr_settype(&attr, PTHREAD_MUTEX_RECURSIVE);
